<div>
	<span class="brand" style="font-weight:bold;">{{degradeRuleDialog.title}}</span>
	<div class="card" style="margin-top: 20px;margin-bottom: 10px;">
		<div class="panel-body">
			<div class="row">
				<form role="form" class="form-horizontal">
					<div class="form-group">
						<label class="col-sm-2 control-label">Resource Name</label>
						<div class="col-sm-9">
							<input type="text" ng-if="degradeRuleDialog.type == 'edit'" class="form-control" placeholder="Resource Name" ng-model='currentRule.resource'
							 disabled="" />
							<input type="text" ng-if="degradeRuleDialog.type == 'add'" class="form-control highlight-border" placeholder="Resource Name" ng-model='currentRule.resource'
							/>
						</div>
					</div>

					<!--<div class="form-group">-->
						<!--<label class="col-sm-2 control-label">Limit Origin</label>-->
						<!--<div class="col-sm-9">-->
							<!--<input type="text" class="form-control highlight-border" ng-model='currentRule.limitApp' placeholder='"default"表示所有应用。' />-->
						<!--</div>-->
					<!--</div>-->

					<div class="form-group">
						<label class="col-sm-2 control-label">Strategy</label>
						<div class="col-sm-9">
							<div class="form-control highlight-border" align="center">
								<input type="radio" name="grade" value="0" checked ng-model='currentRule.grade' title="average response time per second" />&nbsp;RT&nbsp;&nbsp;
								<input type="radio" name="grade" value="1" ng-model='currentRule.grade' title="Exception ratio per second" />&nbsp;Exception Ratio&nbsp;&nbsp;
								<input type="radio" name="grade" value="2" ng-model='currentRule.grade' title="Exception count per minute" />&nbsp;Exception Count
							</div>
						</div>
					</div>

					<div class="form-group">
						<label ng-if="currentRule.grade == 0" class="col-sm-2 control-label"  title="Maximum RT, beyond which it counts as a slow call">Max RT</label>
						<label ng-if="currentRule.grade == 1" class="col-sm-2 control-label">Exception Ratio</label>
						<label ng-if="currentRule.grade == 2" class="col-sm-2 control-label">Exception Count</label>
						<div class="col-sm-4">
							<input type='number' class="form-control highlight-border" ng-model='currentRule.count' ng-if="currentRule.grade == 0" placeholder="RT (ms)"/>
							<input type='number' class="form-control highlight-border" ng-model='currentRule.count' ng-if="currentRule.grade == 1" placeholder="Ranges [0.0,1.0]"/>
							<input type='number' class="form-control highlight-border" ng-model='currentRule.count' ng-if="currentRule.grade == 2" placeholder="Number of exceptions"/>
						</div>
						<div ng-if="currentRule.grade == 0">
							<label class="col-sm-2 control-label">Slow Ratio Threshold</label>
							<div class="col-sm-3">
								<input type='number' min="0" class="form-control highlight-border" ng-model='currentRule.slowRatioThreshold'
									   placeholder="Value [0.0, 1.0]" />
							</div>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">Degrade Window</label>
						<div class="col-sm-4">
							<div class="input-group">
								<input type='number' min="0" class="form-control highlight-border" ng-model='currentRule.timeWindow'
									   placeholder="time window in seconds" />
								<span class="input-group-addon">s</span>
							</div>
						</div>

						<label class="col-sm-2 control-label" style="text-align: center; padding-right: 5px;"
							   title="The minimum number of requests to trigger a circuit breaker. If the number of requests in the current statistics window is less than this value, even if the circuit breaker condition rule is reached, it will not be triggered">Minimum number of requests</label>
						<div class="col-sm-3">
							<input type='number' min="1" class="form-control highlight-border" ng-model='currentRule.minRequestAmount'
								   placeholder="Minimum number of requests" />
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">Statistics Interval</label>
						<div class="col-sm-4">
							<div class="input-group">
							<input type='number' min="1" class="form-control highlight-border" ng-model='currentRule.statIntervalMs'
								   placeholder="Statistics Interval(ms)" />
							<span class="input-group-addon">ms</span>
							</div>
						</div>
					</div>

				</form>
			</div>
			<div class="separator"></div>
			<div clss="row" style="margin-top: 20px;">
				<button class="btn btn-outline-danger" style="float:right; height: 30px;font-size: 12px;margin-left: 10px;" ng-click="closeThisDialog()">Cancel</button>
				<button class="btn btn-outline-success" style="float:right; height: 30px;font-size: 12px;margin-left: 10px;" ng-click="saveRule()">{{degradeRuleDialog.confirmBtnText}}</button>
				<button ng-if="degradeRuleDialog.saveAndContinueBtnText" class="btn btn-default" style="float:right; height: 30px;font-size: 12px;"
				 ng-click="saveRuleAndContinue()">{{degradeRuleDialog.saveAndContinueBtnText}}</button>
			</div>
		</div>
	</div>
</div>
